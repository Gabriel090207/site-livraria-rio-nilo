<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Livros</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="Livros.css">
    
    <link rel="shortcut icon" href="Nova-logo-rio-nilo-_3_.ico" type="image/x-icon">
</head>

<body>

    <a href="https://wa.me/5571982290909" class="whatsapp-button" target="_blank" style="text-decoration:none">
        <i class="fab fa-whatsapp"></i>
    </a>

    <div class="side-menu" id="side-menu">
        <div class="side-menu-header">
            <h2>Menu</h2>
            <i class="fas fa-times" id="close-menu"></i>
        </div>
        <ul>
            <li><i class="fas fa-home"></i><a href="index.html">Início</a></li>
            <li><i class="fas fa-phone"></i> <a href="faleconosco.html">Contato </a></li>
            <li><i class="fas fa-info-circle"> <a href="quemsomos.html"></i>Sobre nós</a></li>
        </ul>
    </div>

    <header>
        <i class="fas fa-bars menu-icon" id="menu-toggle"></i>
        <div class="logo"> <img src="Nova logo rio nilo.png" alt="Logo Rio Nilo" style="height:50px;"></div>
        <div class="search-bar">
            <input type="text" placeholder="Buscar livros..." id="search-input">
        </div>

        <div class="header-icons">
            <div id="cart-container" style="position: relative;">
                <i class="fas fa-shopping-cart" id="cart-icon" style="cursor: pointer; position: relative;"></i>
                <span id="cart-badge" style="display:none;">0</span>

                <div id="cart-dropdown"></div>
            </div>
        </div>
    </header>

    <main class="content">

        <div class="carousel">

            <img id="carousel-image" src="WhatsApp Image 2025-07-18 at 21.49.12.jpeg" alt="Banner">
        </div>
        <h2 class="section-title">Livros em Destaque</h2>


        <div class="cards" id="book-cards-container">

            <div class="card">
                <img src="livro1.png" alt="As Aventuras de Mike">
                <h3>As Aventuras de Mike</h3>
                <p>Editora Outro Planeta</p>
                <p class="price">R$ 0,01</p>
                <button class="add-to-cart">Comprar</button>
            </div>
            <div class="card">
                <img src="livro3.png" alt="Five Nights at Freddy's">
                <h3>Five Nights at Freddy's</h3>
                <p>Intrínseca</p>
                <p class="price">R$ 0,02</p>
                <button class="add-to-cart">Comprar</button>
            </div>
            <div class="card">
                <img src="livro1.png" alt="As Aventuras de Mike">
                <h3>As Aventuras de Mike</h3>
                <p>Editora Outro Planeta</p>
                <p class="price">R$ 42,27</p>
                <button class="add-to-cart">Comprar</button><br>

            </div>
            <div class="card">
                <img src="livro2.png" alt="Olhos Prateados">
                <h3>Olhos Prateados</h3>
                <p>Intrínseca</p>
                <p class="price">R$ 47,92</p>
                <button class="add-to-cart">Comprar</button>

            </div>
            <div class="card">
                <img src="livro1.png" alt="As Aventuras de Mike">
                <h3>As Aventuras de Mike</h3>
                <p>Editora Outro Planeta</p>
                <p class="price">R$ 42,27</p>
                <button class="add-to-cart">Comprar</button><br>

            </div>
            <div class="card">
                <img src="livro1.png" alt="As Aventuras de Mike">
                <h3>As Aventuras de Mike</h3>
                <p>Editora Outro Planeta</p>
                <p class="price">R$ 42,27</p>
                <button class="add-to-cart">Comprar</button><br>

            </div>
        </div>

        </div>

        <div id="cart-notification" class="cart-notification">
            Item adicionado ao carrinho!
        </div>

        <footer>
            <div class="footer">
      
              <!-- Coluna 1 -->
              <div>
                <h4>Central de Ajuda</h4>
                <ul class="rodapé">
                  <li><a href="privacidade.html">Política de Privacidade</a></li>
                  <li><a href="entregas.html">Política de Fretes</a></li>
                  <li><a href="devolucao.html">Trocas e Devoluções</a></li>
                  <li><a href="garantia.html">Termos de Garantia</a></li>
                  <li><a href="pagamentos.html">Pagamentos</a></li>
                  <li><a href="faleconosco.html">Fale conosco</a></li>
                </ul>
              </div>
      
              <!-- Coluna 2 -->
              <div>
                <h4 class="sobre">Sobre nós</h4>
                <ul class="rodapé">
                  <li ><a href="quemsomos.html">Quem somos</a></li>
                  
                </ul>
              </div>
      
              <!-- Coluna 3: Social e Pagamento -->         <h4 class="contatos">Contatos</h4>
                <div class="rodapé">
                  <ul style="margin-left: -110px; margin-top: 20px;" >
                    <li style="list-style: none;" class="horario1" ><a href="https://wa.me/5571982290909" target="_blank">Whatsapp: 71 98229-0909</a></li>
                    <li style="list-style: none;" class="horario">E-mail: rionilodistribuidora@gmail.com</li>
                    <li style="list-style: none;" class="horario">Horário de atendimento: Segunda a Sexta-feira, das 9h às 18h</li>
                  </ul>
                </div>
              <div>
                
                <h4>Redes sociais</h4>
                <div class="redesocial">
                  <a href="https://www.instagram.com/educacional.rionilo?igsh=MWtsZDVkejNpdDVmbQ==" target="_blank"
                    class="redeicones">
                    <i class="fab fa-instagram"></i>
                  </a>
                </div>
                <br>
                <h4>Formas de pagamento</h4>
                <div class="formapagamento">
                  <img src="Mastercard-logo.png" alt="Mastercard" style="height: 40px;">
                  <img src="logovisa.png" alt="Visa" style="height: 50px;">
                  <img src="pix-banco-central-brasil-logo-png_seeklogo-500502.png" alt="Pix" style="height: 50px;">
                </div>
              </div>
            </div>
      
            <div class="politica">
              <p>Brasil &nbsp; | &nbsp; Política de privacidade &nbsp; | &nbsp; Cookies &nbsp; | &nbsp; Termos de uso</p>
              <p style="margin-top: 10px;" class="politica1">© 2025 Livraria e Distribuidora Rio Nilo. Todos os direitos reservados. CNPJ:
                19.291.176/0001-78 - Endereço: Av. Aliomar Baleeiro, 2262 - Galpão 8 - Jardim Cajazeiras, Salvador - BA,
                41230-455</p>
            </div>
          </footer>

        <script>
            // Menu lateral
            const menuIcon = document.querySelector('.menu-icon');
            const sideMenu = document.getElementById('side-menu');
            const closeMenu = document.getElementById('close-menu');

            menuIcon?.addEventListener('click', () => {
                sideMenu.classList.add('open');
            });

            closeMenu?.addEventListener('click', () => {
                sideMenu.classList.remove('open');
            });

            // Perfil do usuário
            const userIcon = document.getElementById('userIcon');
            const profileInfo = document.getElementById('profileInfo');

            userIcon?.addEventListener('click', () => {
                profileInfo.style.display = profileInfo.style.display === 'block' ? 'none' : 'block';
            });

            // Esconde o dropdown se clicar fora
            document.addEventListener('click', (e) => {
                if (!profileInfo.contains(e.target) && !userIcon.contains(e.target)) {
                    profileInfo.style.display = 'none';
                }
            });

            // --- NOVA FUNÇÃO: Para atualizar o nome do usuário na interface (ADICIONADA AQUI) ---
            function atualizarNomeUsuario(nome) {
                const userParagraph = document.querySelector("#profileInfo p:first-child");
                if (userParagraph) {
                    userParagraph.innerHTML = `<strong>Usuário:</strong> ${nome}`;
                }
            }

            // --- Lógica para carregar o nome do localStorage ao carregar a página (ADICIONADA AQUI) ---
            document.addEventListener("DOMContentLoaded", function () {
                const nomePersistido = localStorage.getItem('nomeUsuarioLogado'); // Tenta recuperar o nome
                if (nomePersistido) {
                    atualizarNomeUsuario(nomePersistido); // Se encontrou, atualiza a interface
                } else {
                    // Opcional: Se não houver nome no localStorage (ex: primeiro acesso sem login)
                    // Você pode exibir um nome padrão como "Visitante" ou "Convidado".
                    // Se preferir que a pessoa faça login, pode redirecionar para a página de login aqui.
                    // Exemplo: window.location.href = 'escola1.html';
                    atualizarNomeUsuario("Convidado"); // Define um nome padrão
                }
            });

        </script>

        <script>
            const cartKey = 'meuCarrinho';
            let cart = JSON.parse(localStorage.getItem(cartKey)) || [];

            function saveCart() {
                localStorage.setItem(cartKey, JSON.stringify(cart));
            }

            function updateCartUI() {
                const badge = document.getElementById('cart-badge');
                const dropdown = document.getElementById('cart-dropdown');

                if (!badge || !dropdown) return;

                if (cart.length === 0) {
                    badge.style.display = 'none';
                    dropdown.innerHTML = '<p>Carrinho vazio</p>';
                    saveCart();
                    return;
                }

                badge.style.display = 'inline-block';
                badge.textContent = cart.length;

                dropdown.innerHTML = ''; // Limpa o conteúdo atual para recriar

                cart.forEach((item, index) => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'cart-item';

                    itemDiv.innerHTML = `
                <img src="${item.img}" alt="${item.name}">
                <div class="info">
                    <h4>${item.name}</h4>
                    <p>${item.price}</p>
                    <button class="remove-btn" data-index="${index}">Remover</button>
                </div>
            `;
                    dropdown.appendChild(itemDiv);
                });

                const finishBtn = document.createElement('button');
                finishBtn.textContent = 'Finalizar Compra';
                finishBtn.style.cssText = `
            width: 100%; padding: 10px; background: #F58220; color: white;
            border: none; border-radius: 5px; text-transform: uppercase; cursor: pointer; margin-top: 5px; font-weight: 800;
        `;

                finishBtn.addEventListener('click', () => {
                    window.location.href = 'finalizar1.html';
                });

                dropdown.appendChild(finishBtn);

                document.querySelectorAll('.remove-btn').forEach(btn => {
                    btn.addEventListener('click', e => {
                        const idx = e.target.getAttribute('data-index');
                        cart.splice(idx, 1);
                        updateCartUI();
                    });
                });

                saveCart();
                dropdown.style.display = 'block';
            }

            document.querySelectorAll('.card .add-to-cart').forEach(button => {
                button.addEventListener('click', () => {
                    const card = button.closest('.card');
                    const img = card.querySelector('img').src;
                    const name = card.querySelector('h3').textContent;
                    const price = card.querySelector('.price').textContent;

                    cart.push({ img, name, price });
                    updateCartUI();

                    const cartIcon = document.getElementById('cart-icon');
                    if (cartIcon) {
                        cartIcon.classList.add('cart-icon-animation');
                        setTimeout(() => {
                            cartIcon.classList.remove('cart-icon-animation');
                        }, 500);
                    }

                    const notification = document.getElementById('cart-notification');
                    if (notification) {
                        notification.classList.add('show');
                        setTimeout(() => {
                            notification.classList.remove('show');
                        }, 3000);
                    }
                });
            });

            const individualBtn = document.querySelector('.container1 .add-to-cart');
            if (individualBtn) {
                individualBtn.addEventListener('click', () => {
                    const name = document.querySelector('.product-details h1').textContent;
                    const img = document.querySelector('.product-image img').src;
                    const price = document.querySelector('.product-details .price').textContent;

                    cart.push({ img, name, price });
                    updateCartUI();

                    const cartIcon = document.getElementById('cart-icon');
                    if (cartIcon) {
                        cartIcon.classList.add('cart-icon-animation');
                        setTimeout(() => {
                            cartIcon.classList.remove('cart-icon-animation');
                        }, 500);
                    }

                    const notification = document.getElementById('cart-notification');
                    if (notification) {
                        notification.classList.add('show');
                        setTimeout(() => {
                            notification.classList.remove('show');
                        }, 3000);
                    }
                });
            }

            const cartIcon = document.getElementById('cart-icon');
            const cartDropdown = document.getElementById('cart-dropdown');

            if (cartIcon && cartDropdown) {
                cartIcon.addEventListener('click', (event) => {
                    event.stopPropagation();
                    if (cartDropdown.style.display === 'block') {
                        cartDropdown.style.display = 'none';
                    } else {
                        updateCartUI();
                    }
                });

                cartDropdown.addEventListener('click', (event) => {
                    event.stopPropagation();
                });

                document.addEventListener('click', (e) => {
                    if (!cartIcon.contains(e.target) && !cartDropdown.contains(e.target)) {
                        cartDropdown.style.display = 'none';
                    }
                });
            }

            updateCartUI();
        </script>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const searchInput = document.getElementById('search-input');
                const bookCardsContainer = document.getElementById('book-cards-container');
                const bookCards = bookCardsContainer.querySelectorAll('.card');

                searchInput.addEventListener('keyup', function () {
                    const searchTerm = searchInput.value.toLowerCase();

                    bookCards.forEach(card => {
                        const title = card.querySelector('h3').textContent.toLowerCase();
                        const publisher = card.querySelector('p:nth-of-type(1)').textContent.toLowerCase();

                        if (title.includes(searchTerm) || publisher.includes(searchTerm)) {
                            card.style.display = 'block'; // Show the card
                        } else {
                            card.style.display = 'none'; // Hide the card
                        }
                    });
                });
            });
        </script>
</body>

</html>